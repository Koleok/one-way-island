<head>
  <title>One-Way Island LTD.</title>
</head>
<body>
    {{> d3_template}}
</body>

<template name="d3_template">
    <div class="jumbotron text-center">
        {{#if route.source}}
            <h1>{{route.source.name}} to {{route.target.name}}</h1>
            {{#if pathDist}}
                {{#unless pathError}}
                    <p>Total Distance: {{pathDist}}<small><em>mi</em></small></p> 
                {{/unless}}
            {{/if}}
        {{else}}
            <h1>Select two cities</h1>
        {{/if}}
    </div>
    <div class="stats container">
        {{#if path}}
            {{#if pathError}}
                <div class="alert alert-danger text-center" role="alert">
                    <strong>Path error</strong>
                    <p>A weakness in the search algorithm has either caused an endless loop, or a dead end has been found.</p>
                    <p>Gotta fix this!</p>
                </div>
            {{else}}
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Stop Number</th>
                        <th>Start</th>
                        <th>Stop</th>
                        <th>Distance <small><em>(mi)</em></small></th>
                    </tr>
                </thead>
                <tbody>
                    {{#each path}}
                    <tr>
                        <td>{{@index}}</td>
                        <td>{{this.source}}</td>
                        <td>{{this.target}}</td>
                        <td>{{this.distance}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
        {{/if}}
    {{/if}}
</div>
<div class="svg_container"> </div>
</template>
